MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target",
Value = "value", NodeID = "name",
Group = "group",
opacity = 1, zoom = TRUE, fontSize = 20,
charge = -100, # node repulsion
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/links_airports.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/nodes_airports.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
opacity = 1, zoom = TRUE, fontSize = 20,
charge = -100, # node repulsion
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/links_airports.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/nodes_airports.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/countries_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/countries_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group", Size="size",
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Value = "size",
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
charge = -100, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkDistance = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
charge = -100, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linksize = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
charge = -100, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
charge = -100, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
gravity = 0.05,
charge = -6000, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
charge = -6000, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
bounded = TRUE,
zoom = TRUE,
charge = -1100, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
bounded = TRUE,
charge = -1100, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
bounded = TRUE,
charge = -1100, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
bounded = TRUE,
charge = -600, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
bounded = TRUE,
charge = -5000, # node repulsion
clickAction = MyClickScript)
# install.packages('networkD3')
# Load package
library(networkD3)
# Connection Data
Links = read.csv("D:/Dropbox/Data/Network/airports/country_links.csv")  # read csv file
Nodes = read.csv("D:/Dropbox/Data/Network/airports/country_nodes.csv")  # read csv file
MyClickScript <-
' d3.select(this).select("circle")
.transition().duration(50).attr("r", 20)
'
# Plot
forceNetwork(Links = Links, Nodes = Nodes,
Source = "source", Target = "target", NodeID = "name",
Group = "group",
Nodesize = 'size',
linkWidth = JS("function(d){return d.value}"),
opacity = 1, zoom = TRUE, fontSize = 20,
opacityNoHover = 0.5,
bounded = TRUE,
charge = -2000, # node repulsion
clickAction = MyClickScript)
shiny::runApp('D:/Dropbox/Data/R Shiny/20-02-25 Building Permits')
install.packages('DT')
install.packages("DT")
install.packages("dplyr")
install.packages("leaflet")
shiny::runApp('D:/Dropbox/Data/R Shiny/20-02-25 Building Permits')
install.packages("dplyr")
install.packages("dplyr")
install.packages("tidyverse")
shiny::runApp('D:/Dropbox/Data/R Shiny/20-02-25 Building Permits')
install.packages("dplyr")
install.packages("dplyr")
install.packages("pillar")
shiny::runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
install.packages("shinyWidgets")
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
Table2 %>% filter(Sex %in% input$g"ender"M")
setwd("d:/dropbox/data/r shiny/")
setwd("d:/dropbox/data/r shiny/20-03-27 Canada_covid")
geojson_list("canada.geojson")
library(geojsonio)
geojson_list("canada.geojson")
# REad in Provinces data
provinces <- geojsonio::geojson_read("canada.geojson", what = "sp")
provinces
library(leaflet)
leaflet(provinces)
leaflet(provinces) %>%
addTiles() %>%
addPolygons(stroke = FALSE, smoothFactor = 0.3, fillOpacity = 1)
shiny::runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
webpage <- read_html("https://virihealth.com/full-details/")
# Table 2. Cases in Canada
Table2 <- webpage %>%
html_nodes("table") %>%
.[[2]] %>%
html_table(fill = TRUE)
#Fix Date field
Table2$Date2 <- as.Date(paste0(Table2$Date,"-","2020"),"%d-%b-%Y")
table(Table2$Prov)
count()
data.frame(table(Table2$Prov))
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
# Groupby("Prov").count()
prov_count <- data.frame(table(Table2$Prov))
# Read in Provinces data
provinces <- geojsonio::geojson_read("canada.geojson", what = "sp")
#merge shapefile and dataframe
m <- merge(provinces,prov_count,by.x='abbr',by.y='Var1')
m
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
View(m)
m$Freq
m$abbr
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
m <- geo_join(provinces,prov_count,by_sp='abbr',by_df='Var1',how="left")
install.packages('tigris')
library(tigris)
m <- geo_join(provinces,prov_count,by_sp='abbr',by_df='Var1',how="left")
m
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
runApp('D:/Dropbox/Data/R Shiny/20-03-27 Canada_covid')
